<%- include('../partials/navLeft') %>



    <div class="content">



        <style>

            
                    * {
                        margin: 0;
                        padding: 0;
                        box-sizing: content-box;
                    }
                    body{
                        
                        display: flex;
                        
                    }
                    .nav:hover + .content {
                        margin-left: 270px;
                        
                    }
        

        .content {
            width: calc(100vw - 80px );
            background-color: var(--background-color);
            min-height: 100vh;
            height : auto ; 
            display: flex;
            flex-direction: column;
            margin-left: 80px; /* Initial margin-left to match the nav width */
            transition: margin-left 0.3s; /* Add transition for a smooth effect */
        }
      
            /* Code for profile  */

            .top{
                width: 100%;
                height: 10%;
                border-bottom: 4px solid white;
                display: flex;
                align-items: center;
            }
            .top h1{
                font-size: 48px;
                font-weight: 600;
                font-family: "Inter", sans-serif;
                margin-left: 7rem;
                color: var(--font-color);
            }
            .bottom{
                width: 85%;
                height: 90%;
                
                margin-left: 7rem;
                display: flex;
            }
            .left{
                width: 50%;
                height: 100%;
                
            }
            textarea{
                background-color: transparent;
                width: 93%;
                color: var(--font-color);
                border-radius: 8px;
                border: 2px solid #9D9D9D;
                font-size: 18px;
                font-family: "DM Sans", sans-serif;
            }
            .right{
                width: 50%;
                height: 100%;
                display: flex;
                justify-content: center;
            }
            .leftTop{
                margin-top: 10px;
                font-family: "Poppins", sans-serif;
                font-size: 18px;
                color: var(--font-color);

            }
            .name{
                width: 100%;
                height: 6vw;
                padding-top: 1.5rem;
                /* background-color: red; */
                display: flex;
                flex-direction: column;
                gap: 0.5rem;
                font-family: "DM Sans", sans-serif;
            }
            form p{
                font-size: 24px;
                font-weight: 600;
                color: var(--font-color);
                font-family: "DM Sans", sans-serif;
            }
            .name div{
                display: flex;
                gap: 4rem;
            }
            input[type= "text"], input[type= "number"]{
                width: 40%;
                height: 2.2vw;
                padding: 0.2rem 0rem 0.2rem 1rem;
                background-color: transparent;
                border: 2px solid #9D9D9D;
                color: var(--font-color);
                border-radius: 5px;
                font-size: 18px;
                font-family: "DM Sans", sans-serif;
            }
            .address{
                width: 100%;
                height: 14vw;
                display: flex;
                flex-direction: column;
                gap: 1.5rem;

            }
            .addressTop{
                display: flex;
                flex-direction: column;
                gap: 0.5rem;
                font-family: "DM Sans", sans-serif;
            }
            .areaPin{
                display: flex;
                gap: 4rem;
            }

            .areaContact{
                            width: 100%;
                            height: 6vw;
                            display: flex;
                        }
                        .areaContactleft{
                            width: 50%;
                            display: flex;
                            flex-direction: column;
                            gap: 0.5rem;
                        }
                        .areaContactRight{
                            width: 50%;
                            display: flex;
                            flex-direction: column;
                            gap: 0.5rem;
                        }
                        .areaContact input[type= "text"] , .areaContact input[type= "number"]{
                            width: 80%;
                            height: 2.2vw;
                            padding: 0.2rem 0rem 0.2rem 1rem;
                            background-color: transparent;
                            border: 2px solid #9D9D9D;
                            color: var(--font-color);
                            border-radius: 5px;
                            font-size: 18px;
                            font-family: "DM Sans", sans-serif;
                        }


                        .emailPass{
                            width: 100%;
                            height: 6vw;
                            display: flex;
                        }
                        .emailPassleft{
                            width: 50%;
                            display: flex;
                            flex-direction: column;
                            gap: 0.5rem;
                        }
                        .emailPassRight{
                            width: 50%;
                            display: flex;
                            flex-direction: column;
                            gap: 0.5rem;
                        }
                        .emailPass input[type = "password"] , input[type="email"]{
                            width: 80%;
                            height: 2.2vw;
                            padding: 0.2rem 0rem 0.2rem 1rem;
                            background-color: transparent;
                            border: 2px solid #9D9D9D;
                            color: var(--font-color);
                            border-radius: 5px;
                            font-size: 18px;
                            font-family: "DM Sans", sans-serif;
                        }

                        .profile{
                        width: 90%;
                        height: 90%; 
                        margin-top: 2rem;
                        display: flex;
                        flex-direction: column;
                        gap: 4rem;
                        align-items: center;
                    }
                    #img{
                        margin-top: 0rem;
                        height: 34px;
                        width: 37px;
                        padding-left: 5px;
                    }
                    .profile div{
                        display: flex;
                        gap: 2rem;
                        

                    }
                    .profileleft{
                        width: 230px;
                        height: 50px;
                        border: 2px solid #9D9D9D;
                            border-radius: 5px;
                        display: flex;
                        justify-content: center;
                        align-items: center;
                    }
                    
                    .profile input[type="submit"]{
                        width: 157px;
                        height: 53px;
                        background-color: #FFB219;
                        font-size: 18px;
                        border: none;
                        color: var(--font-color);
                        font-weight: 600;
                        border-radius: 8px;
                        font-family: "DM Sans", sans-serif;
                    }
                    .profileleft p{
                         font-size: 22px;
                         font-weight: 600;
                         color: var(--font-color);
                         font-family: "DM Sans", sans-serif;
                         margin-right: 10px;
 
                    }

</style>

        


  

        <div class="top">
            <h1>Edit Profile</h1>
        </div>
        <div class="bottom">
            <div class="left">
                <div class="leftTop">
                    <p>Here you can edit public information about yourself. <br/>
                        The changes will be displayed for other users instantly.</p>
                </div>
                <form  action="profile/updateProfile" enctype="multipart/form-data" method="post">

                    <div class="name">
                        <p>Name</p>
                        <div>
                           
                            <input type="text" name="firstName" placeholder="First Name" value="<%= user.firstName ? user.firstName  : '' %>" > 
                            <input type="text" name="lastName" placeholder="Last Name" value="<%= user.lastName ? user.lastName  : '' %>" > 
                        </div>
                    </div>
                    <div class="address">

                        <div class="addressTop">
                            <p>Address</p>
                            <textarea rows="4" cols="90" placeholder="Flat / House No / Building Name" name="address" disabled > <%= user.buildingNumber %>/<%= user.roomNumber %> NCH COLONY KANJURMARG WEST </textarea>
 
                        </div>
                        <div class="areaPin">
                            <input type="text" name="area" placeholder="Area" value="Colaba" disabled >
                            <input type="number" name="pincode" placeholder="Pincode" value="400001" disabled >
                        </div>
                        

                        
                    </div>

                    <style>
                        

                    </style>
                    <div class="areaContact">

                        <div class="areaContactleft">
                            <p>Username</p>
                            <input type="text" name="work_area" placeholder="Username" value="<%= user.username %>" >

                        </div>
                        <div class="areaContactRight">
                            <p>Contact No</p>
                            <input type="number" name="mobileNumber" placeholder="Mobile Number" value="<%= user.mobileNumber ? user.mobileNumber  : '' %>" >

                        </div>

                    </div>
                    <div class="emailPass">

                        <div class="emailPassleft">
                            <p>Email-ID</p>
                            <input type="email" name="email" placeholder="worker@gmail.com" value="<%= user.email %>">

                        </div>
                        

                    </div>

                

            </div>

            <style></style>
            <div class="right">

               
                
                <div class="profile">
                    <% if(user.profilePicture == "default.png"){ %>

                        <img src="/images/Profile.svg" alt="" id = "logoImg" height="400px">
                         


                    <% }else{ %>

                        <img src="/userUpload/profile_image/<%= user.profilePicture %>" alt="" id = "logoImg" height="400px">


                   <% } %>
                    
                    
                    <div>
                        <style>
                            input[type="file"]{
                                color:var(--font-color);
                                font-size:18px ; 
                            }
                        </style>
                        <div class="profileleft">
                            <!-- <img src="/file-add.svg" alt="" height="30px" id="img"> -->
                            <input type="file" name="profile_image" onchange="changeLogo(event)" >
                            

                        </div>
                        <input type="submit" value="Save changes" name = "save">
                    </div>
                </div>

                </form>
            </div>
        </div>



        <!-- Adding Profile Image and name and other values of worker to db  -->

        <!-- Adding Profile Image and name of user to db  -->


   


            

            
        
    </div>




    <!-- JS code starting from here  -->


    <script>
   
        function changeLogo(event) {
            const fileInput = event.target;
            const logoImg = document.getElementById("logoImg");

            if (fileInput.files && fileInput.files[0]) {
                const reader = new FileReader();

                reader.onload = function (e) {
                    logoImg.src = e.target.result;
                };

                reader.readAsDataURL(fileInput.files[0]);
            }
        }





    
   
</script>

</body>
</html>