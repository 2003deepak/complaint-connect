
    <style>
        
        .previewContent{
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            gap: 1.5rem;
            padding: 1rem;
            width: 100%;

        }

        .details{
            width: 100%;
            height: 10%;
            display:flex ; 
            flex-direction : column ; 
            gap: 0.5rem ; 
            color : var(--heading-color);
            font-family: 'Poppins', sans-serif;
        }
        .btn{
            display: flex;
            gap: 2rem;
            height: 45%;
            width: 100%;
            
        }
        #complete{
            height: 100%;
            width: 25%;
            font-size: 0.75vw;
            font-weight: 500;
            border:none;
            border-radius: 5px;
            font-family: 'Poppins', sans-serif;
            
        }
        #raise{
            background-color: #DCDEDB;
            height: 100%;
            width: 30%;
            font-size: 0.75vw;
            font-weight: 500;
            border:none;
            border-radius: 5px;
            font-family: 'Poppins', sans-serif;
        }

        .imgComplaint{
            width: 100%;
            height: 40%;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        .imgComplaint img{
            max-width: 65%;
        }
        .complaintDetails{
            width: 100%;
            height: 50%;
            display: flex;
            flex-direction: column;
        }
        .cHeading{
            width: 100%;
            display: flex;
            justify-content: center;
        }
        ul{
            list-style: none;
            display: flex;
            flex-direction: column;
            gap: 1rem;
            font-size: 0.8vw;
        }
        .values{
            display: flex;
            gap: 3rem;
            padding-top: 1rem;
            font-family: 'Poppins', sans-serif;
            width: 100%;
            justify-content: center;
        }
        .cHeading>p{
            font-size: 1vw;
        }
        .description{
            width: 100%;
            min-height: 20%;
            height: auto;
            padding: 1.5rem;
        }
        .desc{
            width: 100%;
            min-height: 20%;
            height: auto;
            background-color: #494748;
            border-radius: 5px;
            padding: 0.5rem;
        }
        .view{
            display: flex;
            justify-content: center;
            align-items: center;
            height: 15%;
            width: 100%;
        }
        .view button{
            width: 35%;
            height: 45%;
            background-color: #000000;
            font-size: 0.9vw;
            font-weight: 500;
            font-family: 'Poppins', sans-serif;
            border:none;
            border-radius: 5px;
            color: white;
        
        }

        /* Mobile View */

@media (max-width: 500px) {

    #complete {
        width: 30%;
        font-size: 2.75vw;
    }
    #raise {
    
        width: 40%;
        font-size: 2.75vw;
    }
    .imgComplaint {
        height: 55%;
    }
    .imgComplaint img {
        max-width: 75%;
    }
    .cHeading>p {
        font-size: 4vw;
    }
    ul{
        font-size: 2.6vw;
    }
    .description {

        padding: 1rem;
    }
    .desc {
        font-size: 3.5vw;
    }
    .view button {
        width: 50%;
        height: 50%;
        font-size: 3.2vw;
    }
}

/* Tablet */
@media (max-width: 768px) and (min-width: 500px) {

    #complete {
        width: 25%;
        font-size: 2.2vw;
    }
    #raise {
    
        width: 30%;
        font-size: 2.2vw;
    }
    /* .imgComplaint {
        height: 50%;
        
    } */
    .imgComplaint img {
        max-width: 50%;
    }
    .cHeading>p {
        font-size: 2.5vw;
    }
    ul{
        font-size: 2.2vw;
    }
    .description {
        padding: 1rem;
    }
    .desc {
        font-size: 2.2vw;
    }
    .view button {
        width: 40%;
        height: 50%;
        font-size: 2.5vw;
    }


}

/* Tablet To Laptop */
@media (min-width: 768px) and (max-width: 992px) {

    #complete {
        width: 25%;
        font-size: 1.5vw;
    }
    #raise {
    
        width: 30%;
        font-size: 1.5vw;
    }
    .imgComplaint img {
        max-width: 40%;
    }
    .cHeading>p {
        font-size: 1.75vw;
    }
    ul{
        font-size: 1.5vw;
    }
    .description {
        padding: 1rem;
    }
    .desc {
        font-size: 1.5vw;
    }
    .view button {
        width: 40%;
        height: 50%;
        font-size: 1.75vw;
    }





}



     

    </style>



      
<div class="previewContent">




   
            <i class="fa-solid fa-xmark" id="closePreview" style="color: #ffffff;"></i>

            <div class='details'>
                <p>Complaint Details</p>

                <div class='btn'>

               
            
                    <% if( !complaint.updatedAt && !complaint.resolvedAt) { %>
                        <button id='complete' style='background-color: #eb1010'>New Request</button>
                    <% } %>

                    <% if(complaint.updatedAt && !complaint.resolvedAt) { %>
                        <button id='complete' style='background-color: #f5f242'>Pending</button>
                    <% } %>

                    <% if(complaint.updatedAt && complaint.resolvedAt) { %>
                        <button id='complete' style='background-color: #4ef542'>Completed</button>
                    <% } %> 

                    <% if(role == "user") { %>
                        <% if(complaint.updatedAt && complaint.resolvedAt) { %>
                            <button id='raise' ><a href="/user/review/<%= complaint._id %>" style = "text-decoration: none; color : black;">Close Complaint</a></button>
                        <% } %>
                        
                    <% } %>
    
                   
           

           
                </div>
            </div>

            <div class='imgComplaint'>
                <img src='<%= complaint.complaintImage[0] %>' alt='complaint' >
            </div>

            <div class='complaintDetails'>
                
                
                    <div class='cHeading'>
                        <p style='color: var(--font-color);'>Details</p>
                    </div>
                    <div class='values'>
                        <ul style='color: var(--font-color);'>
                            <li> Complaint ID : </li>
                            <li> Complaint Type : </li>
                            <li> Subject : </li>
                            <li> Date : </li>
                        </ul>
                        <ul style='color: var(--font-color);'> 
                            <li><%= complaint.complaintId %></li>
                            <li><%= complaint.complaintType %></li>
                            <li><%= complaint.subject %></li>
                            <li><%= complaint.createdAt.toLocaleDateString('en-GB') %></li>
                        </ul>
                    </div>
      
                
                <div class='description'>

                    <div class="desc">

                        <p style='color: var(--font-color);'><%= complaint.description %></p>

                    </div>
                    
                    
                    
                </div>

            </div>

            <div class='view'>
                <button id='view' onclick='redirectToComplaintInfo()'>View Complaint</button>
                
            </div>

</div>

            


           

    <script>
        function redirectToComplaintInfo() {
            window.location.href = '/<%= role %>/complaintData/<%= complaint._id %>';
            
        }

        var toggle = document.getElementById("toggle");
        var closepreview = document.getElementById("closePreview");
        var main = document.querySelector(".main");
        var nav = document.querySelector(".nav");
        var content = document.querySelector(".content");
        var preview = document.querySelector(".preview");
        var previewContents = document.querySelectorAll("#previewContent");

            previewContents.forEach(function(previewContent) {
                previewContent.addEventListener("click", function() {
                    preview.classList.add("preview-active");
                    nav.classList.add("preview-active-content");
                    content.classList.add("preview-active-content");
                    
                    
                });
            });

            closePreview.addEventListener("click", function () {
                nav.classList.remove("preview-active-content");
                content.classList.remove("preview-active-content");
                preview.classList.remove("preview-active");
                
            });
    </script>

</body>
</html>